extends Node

var list_of_decks = {
	"shadi" : {
		"UR" : ["0317", "0415", "0401", "0348", "0320", "0430"],
		"SR" : ["0333", "0418", "0318", "0013", "0321", "0400", "0334", "0007", "0345", "0019", "0119", "0117", "0104", "0230"],
		"R" : ["0091", "0322", "0319", "0324", "0325", "0153", "0335", "0336", "0337", "0338", "0009", "0008", "0247", "0249", "0250", "0252", "0417", "0466", "0469", "0480"],
		"C" : ["0326", "0124", "0327", "0328", "0323", "0329", "0330", "0331", "0332", "0151", "0129", "0133", "0209", "0204"]
	},
	
	"grandpa" : {
		"UR" : ["0603", "0240", "0604", "0415", "0605", "0066", "0118", "0429", "0430"],
		"SR" : ["0067", "0072", "0567", "0606", "0607", "0608", "0609", "0117"],
		"R" : ["0465", "0153", "0010", "0086", "0149", "0440", "0013", "0442", "0570", "0586", "0610", "0611", "0400", "0612", "0613", "0614", "0471", "0615", "0616", "0617", "0441", "0515", "0469", "0618", "0619", "0620", "0621", "0622"],
		"C" : ["0623", "0624", "0625", "0143", "0626", "0595", "0123", "0134", "0125", "0129", "0131", "0198", "0197", "0209"]
	},
	
	"yugi" : {
		"UR" : ["0423", "0168", "0424", "0425", "0233", "0426", "0427", "0238", "0236", "0171", "0079", "0239", "0429", "0430", "0431"],
		"SR" : ["0234", "0232", "0066", "0235", "0080", "0072", "0067", "0432", "0433", "0357", "0434", "0231", "0435", "0436", "0437", "0438", "0439", "0117", "0103", "0162", "0428"],
		"R" : ["0013", "0153", "0440", "0083", "0441", "0442", "0443", "0444", "0445", "0446", "0447", "0448", "0449", "0450", "0451", "0452", "0453", "0454", "0455", "0167", "0169", "0170", "0456", "0457", "0458", "0459", "0460", "0461", "0462", "0217", "0218", "0219", "0463", "0464"],
		"C" : ["0465", "0014", "0466", "0467", "0468", "0469", "0470", "0471", "0472", "0473", "0474", "0475", "0476", "0149", "0086", "0010", "0477", "0478", "0008", "0479", "0480", "0481", "0482", "0132", "0100", "0011", "0078", "0058", "0197", "0202", "0196", "0105"],
	},
	
	"kaiba" : {
		"UR" : ["0242", "0190", "0483", "0484", "0485", "0486", "0487", "0488", "0491", "0492", "0241", "0493", "0494", "0495", "0429", "0496", "0497"],
		"SR" : ["0240", "0498", "0499", "0034", "0187", "0188", "0189", "0500", "0501", "0502", "0245", "0421", "0243", "0503", "0504", "0505", "0244", "0506", "0101", "0490", "0119", "0120"],
		"R" : ["0069", "0070", "0507", "0508", "0509", "0090", "0510", "0511", "0513", "0477", "0515", "0516", "0033", "0520", "0521", "0522", "0523", "0524", "0529", "0530", "0068", "0405", "0531", "0471", "0354", "0532", "0184", "0185", "0186", "0533", "0534", "0536", "0537", "0418", "0059", "0321", "0539", "0525", "0526", "0527", "0538"],
		"C" : ["0077", "0350", "0540", "0541", "0542", "0545", "0047", "0476", "0012", "0132", "0017", "0543", "0546", "0146", "0547", "0517", "0548", "0210", "0198", "0199"]
	},
	
	"pegasus" : {
		"UR" : ["0549", "0551", "0552", "0553", "0554", "0555", "0556", "0558", "0240", "0429", "0430"],
		"SR" : ["0080", "0072", "0559", "0560", "0562", "0231", "0563", "0564", "0565", "0566", "0567", "0557", "0117", "0101", "0550"],
		"R" : ["0568", "0569", "0570", "0571", "0572", "0573", "0574", "0576", "0577", "0578", "0579", "0582", "0104", "0583", "0584", "0585", "0515", "0334", "0586", "0587", "0588", "0589", "0590", "0591", "0592", "0561"],
		"C" : ["0593", "0594", "0595", "0596", "0597", "0598", "0599", "0600", "0096", "0601", "0522", "0508", "0602", "0525", "0526"]
	},
	
	"joey" : {
		"UR" : ["0074", "0071", "0238", "0159", "0627", "0628", "0629", "0630", "0631", "0632"],
		"SR" : ["0073", "0076", "0633", "0403", "0634", "0636", "0638", "0639", "0641", "0642", "0643", "0644", "0645", "0646", "0647", "0155", "0648", "0649", "0650"],
		"R" : ["0333", "0651", "0652", "0006", "0409", "0653", "0340", "0376", "0339", "0654", "0077", "0078", "0655", "0656", "0657", "0658", "0015", "0126", "0659", "0075", "0476", "0477", "0334", "0660", "0661", "0662", "0663", "0664", "0665", "0666", "0668", "0669", "0667", "0525", "0526"],
		"C" : ["0670", "0130", "0671", "0125", "0672", "0673", "0319", "0143", "0674", "0675", "0132", "0479", "0676", "0677", "0678", "0679", "0202", "0110"]
	},
	
	"jaden" : {
		"UR" : ["0681", "0682", "0683", "0684", "0685", "0686", "0687", "0688", "0689", "0690", "0691", "0692", "0693", "0694", "0429", "0119", "0695"],
		"SR" : ["0696", "0697", "0698", "0699", "0700", "0701", "0702", "0703", "0704", "0705", "0706", "0707", "0708", "0709", "0710", "0711", "0712", "0713"],
		"R" : ["0714", "0715", "0716", "0717", "0718", "0719", "0720", "0721", "0722", "0723", "0724", "0725", "0726", "0727", "0728", "0729", "0730", "0731", "0732", "0733", "0734", "0735", "0736", "0737", "0738", "0739", "0740", "0741", "0742", "0743", "0744", "0745", "0746", "0747", "0748"],
		"C" : ["0749", "0750", "0751", "0752", "0753", "0754", "0755", "0756", "0757", "0758", "0759", "0760", "0761", "0762", "0763", "0764", "0765"]
	},
	
	"jesse" : {
		"UR" : ["0775", "0776", "0777", "0778", "0779", "0780"],
		"SR" : ["0781", "0782", "0783", "0784", "0785", "0786", "0787", "0429", "0117"],
		"R" : ["0788", "0789", "0790", "0791", "0792", "0793", "0794", "0402", "0795", "0796", "0797", "0798","0799", "0800", "0801", "0802", "0803", "0804", "0805", "0806", "0807", "0808", "0809", "0810", "0811", "0812", "0813", "0814"],
		"C" : ["0456", "0815", "0579", "0619", "0594", "0106"]
	},
	
	"syrus" : {
		"UR" : ["0816", "0817", "0818", "0819", "0820", "0821"],
		"SR" : ["0822", "0823", "0824", "0658", "0825", "0826", "0430"],
		"R" : ["0827", "0828", "0829", "0830", "0831", "0832", "0833", "0834", "0835", "0836", "0837", "0838", "0371", "0839", "0840", "0841", "0842", "0843", "0844", "0845", "0846", "0847", "0445", "0446", "0447", "0032"],
		"C" : ["0848", "0849", "0850", "0851", "0852", "0030", "0203"]
	},
	
	"hassleberry" : {
		"UR" : ["0853", "0854", "0855", "0380", "0384", "0856"],
		"SR" : ["0383", "0857", "0858", "0859", "0860", "0861", "0155"],
		"R" : ["0862", "0863", "0382", "0864", "0865", "0866", "0867", "0868", "0004", "0381", "0869", "0087", "0088", "0152", "0870", "0871", "0872", "0873", "0874", "0385", "0875", "0876", "0877", "0106", "0206"],
		"C" : ["0878", "0879", "0880", "0881", "0882", "0086", "0109"]
	},
	
	"zane" : {
		"UR" : ["0883", "0884", "0885", "0886", "0888", "0889", "0890"],
		"SR" : ["0891", "0892", "0499", "0893", "0894", "0895", "0896", "0491", "0825", "0887", "0826"],
		"R" : ["0897", "0898", "0837", "0899", "0900", "0901", "0902", "0903", "0904", "0905", "0876", "0906", "0907", "0908", "0909", "0910", "0911", "0912", "0913", "0515", "0838", "0823"],
		"C" : ["0914", "0851", "0614", "0915", "0916", "0848", "0852", "0917", "0918"]
	},
	
	"chazz" : {
		"UR" : ["0195", "0194", "0190", "0166", "0919", "0920", "0165", "0921", "0922", "0117"],
		"SR" : ["0923", "0924", "0925", "0164", "0926", "0187", "0188", "0189", "0927", "0162", "0648"],
		"R" : ["0928", "0929", "0930", "0931", "0932", "0933", "0934", "0935", "0936", "0937", "0938", "0647", "0939", "0544", "0163", "0191", "0192", "0184", "0185", "0186", "0193", "0543", "0522", "0542", "0321", "0940", "0941", "0942"],
		"C" : ["0943", "0944", "0254", "0945", "0132", "0411", "0946", "0275", "0947", "0948", "0815"]
	},
	
	"blair" : {
		"UR" : ["0949", "0168", "0950", "0951", "0952"],
		"SR" : ["0953", "0954", "0955", "0956", "0957", "0212", "0162", "0429"],
		"R" : ["0958", "0959", "0960", "0961", "0962", "0963", "0162", "0429", "0092", "0964", "0965", "0966", "0967", "0237", "0661", "0440", "0167", "0968", "0475", "0969", "0970", "0971", "0972", "0973", "0974", "0975", "0211", "0213"],
		"C" : ["0456", "0457", "0250", "0251", "0247", "0248", "0253", "0254", "0260", "0261", "0267", "0268", "0274", "0275"]
	},
	
	"alexis" : {
		"UR" : ["0976", "0977", "0978", "0979", "0980", "0981", "0982"],
		"SR" : ["0983", "0984", "0985", "0986", "0987", "0988", "0212", "0989", "0990", "0991"],
		"R" : ["1000", "1001", "1002", "1003", "1004", "1005", "0992", "0993", "0994", "0995", "0996", "0997", "0998", "0999", "0527", "0570", "0475", "0391", "0213", "0211", "0392", "0661"],
		"C" : ["1006", "1007", "1008", "1009", "0647", "0586", "0202"]
	},
	
	"crowley" : {
		"UR" : ["1010", "1011", "1012", "1014", "1015"],
		"SR" : ["1013", "1016", "1017", "1018", "1019", "0825", "0890", "0429"],
		"R" : ["1020", "1021", "1022", "1023", "1024", "1025", "1026", "1027", "1028", "1029", "1030", "1031", "1032", "1033", "1034", "1035", "0451", "0452", "0453", "0203"],
		"C" : ["1036", "1037", "1038", "1039", "0917"]
	},
	
	"darkness" : {
		"UR" : ["1040", "1041", "0242", "0489", "0776", "0884", "0423", "0855", "0486", "0976", "0818", "0195", "0853", "0363", "0236"],
		"SR" : ["1042", "1043", "0074", "0168", "0183", "0424", "0380", "0425", "0071", "0493", "0166", "0190", "0431", "0117", "0429"],
		"R" : ["1045", "1046", "1047", "1048", "1049", "0240", "0487", "0426", "0079", "0428", "0239", "0066", "0080", "0072", "0073", "0633", "0157", "0921", "0628", "0645", "0603", "0982", "0034", "0212", "0214", "0349", "0317", "0605", "0158", "0492"],
		"C" : ["1050", "0341", "0353", "0300", "0303", "0306", "0309", "0312", "0315", "0348", "0406", "0608", "0432", "0544", "0501"]
	},
}

#Function to generate a deck using the lists above
func get_a_deck(npc_name):
	var final_built_deck = [] 
	var player_card_count = PlayerData.player_trunk.keys().size() 
	
	#Responsive difficulty of the game
	var rarity_counter : Dictionary
	
	if player_card_count <= 100: #Easy Mode
		rarity_counter = {"UR":0, "SR":2, "R":20, "C":18}
		
	elif player_card_count >= 256: #Normal Mode
		rarity_counter = {"UR":1, "SR":4, "R":25, "C":10}
		
	elif player_card_count >= 512: #Hard Mode
		rarity_counter = {"UR":3, "SR":7, "R":25, "C":5}
		
	elif player_card_count >= 722: #Forbidden Mode
		rarity_counter = {"UR":5, "SR":15, "R":20, "C":0}
	
	#Generate the actual deck
	randomize()
	for rarity in rarity_counter.keys():
		for _i in range(rarity_counter[rarity]):
			var random_index = randi() %list_of_decks[npc_name][rarity].size()
			final_built_deck.append(list_of_decks[npc_name][rarity][random_index].pad_zeros(5))
	
	return final_built_deck.duplicate(true)
